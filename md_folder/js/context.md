## 실행 컨텍스트

### 실행 컨텍스트란?

실행 컨텍스트는 자바스크립트 코드가 실행되는 환경이다. 모든 자바스크립트 코드는 실행 컨텍스트 내부에서 실행된다고 생각하면 된다.

즉 함수가 실행되면 함수 실행에 해당하는 실행 컨텍스트가 생성되고, 자바스크립트 엔진에 있는 콜 스택에 차곡차곡 쌓인다.

그리고 가장 위에 쌓여있는 컨텍스트와 관련 있는 코드를 실행하면서, 전체 코드의 환경과 순서를 보장하게 된다.

실행 컨텍스트는 식별자를 등록하고 관리하는 스코프와 코드 실행 순서 관리를 구현한 내부 매커니즘으로, 

실행 컨텍스트는 곧 자바스크립트의 핵심 원리이다.

<br />

### 실행 컨텍스트는 언제 생성되는가?

자바스크립트 엔진이 스크립트를 처음 마주할 때 전역 컨텍스트를 생성하고, 콜 스택에 **push**한다.

엔진이 스크립트를 쭉 읽어내려가면서 함수 호출을 발견할 때마다, 함수의 실행 컨텍스트를 스택에 **push**한다.

여기서 중요한 점은 함수 실행 컨텍스트는 함수를 선언할 때가 아닌 **함수가 실행될 때** 만들어진다는 점이다.

실행 컨텍스트를 만드는 방법은

- 전역공간
  - 모든 스크립트 코드는 전역 실행 컨텍스트 안에서 실행된다. 프로그램에 단 한 개만 존재하며 실행 컨텍스트의 기본이다.
  - 함수 밖에 있는 코드는 전역 실행 컨텍스트에 존재하며 브라우저의 경우 window 객체, node는 global 객체가 곧 전역 실행 컨텍스트가 된다.
- 함수
  - 함수 내에 존재하는 코드로 함수가 실행될때마다 만들어지는 실행 컨텍스트이다. 
  - 각 함수는 고유의 실행 컨텍스트를 가지며, 함수가 실행되거나 call 될 때만 생성된다.
- eval() 함수
  - eval 함수로 생성되는 실행 컨텍스트

<br />

참고로 eval() 함수는 문자열로 된 자바스크립트 코드를 전달하면 그대로 실행되는 함수이다.

다만 속도와 보안이 좋지 않아 현재는 거의 쓰지 않는다. 따라서 실행 컨텍스트가 생성되는 시점은 곧 함수를 실행하는 시점이다.

<br />
